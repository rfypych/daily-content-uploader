# Apache Virtual Host Configuration for Daily Content Uploader
# Place this in your Apache sites-available directory

<VirtualHost *:80>
    ServerName yourdomain.com
    ServerAlias www.yourdomain.com
    DocumentRoot /var/www/html/daily-content
    
    # Python/WSGI Configuration
    WSGIDaemonProcess daily_content python-path=/var/www/html/daily-content python-home=/var/www/html/daily-content/venv
    WSGIProcessGroup daily_content
    WSGIScriptAlias / /var/www/html/daily-content/wsgi.py
    
    # Static files
    Alias /static /var/www/html/daily-content/static
    Alias /uploads /var/www/html/daily-content/uploads
    
    <Directory /var/www/html/daily-content>
        WSGIApplicationGroup %{GLOBAL}
        Require all granted
    </Directory>
    
    <Directory /var/www/html/daily-content/static>
        Require all granted
    </Directory>
    
    <Directory /var/www/html/daily-content/uploads>
        Require all granted
    </Directory>
    
    # Security headers (HTTP version)
    Header always set X-Content-Type-Options nosniff
    Header always set X-Frame-Options DENY
    Header always set X-XSS-Protection "1; mode=block"
    Header always set Content-Security-Policy "default-src 'self'; script-src 'self' 'unsafe-inline' cdn.jsdelivr.net cdnjs.cloudflare.com; style-src 'self' 'unsafe-inline' cdn.jsdelivr.net cdnjs.cloudflare.com; img-src 'self' data:; font-src 'self' cdnjs.cloudflare.com"
    
    # Logging
    ErrorLog ${APACHE_LOG_DIR}/daily_content_error.log
    CustomLog ${APACHE_LOG_DIR}/daily_content_access.log combined
    
    # File upload limits
    LimitRequestBody 104857600  # 100MB
</VirtualHost>
